<!-- form_example.html - Exemplo de formulário moderno -->
{% extends 'base/base_modern.html' %}
{% load static %}

{% block title %}Exemplo de Formulário Moderno{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">
        <div>
            <h1 class="text-2xl font-bold text-gray-900">Exemplo de Formulário Moderno</h1>
            <p class="mt-1 text-gray-600">Demonstração de formulários com design moderno e funcionalidades avançadas</p>
        </div>
        <div class="mt-4 md:mt-0">
            <button class="btn btn-primary flex items-center" onclick="history.back()">
                <i class="fas fa-arrow-left mr-2"></i>
                Voltar
            </button>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Formulário de Login -->
        <div class="card-modern">
            <div class="card-header-modern">
                <h3 class="text-lg font-medium text-gray-900">Login no Sistema</h3>
            </div>
            <div class="card-body-modern">
                <form class="space-y-4">
                    <div>
                        <label for="username" class="form-label-modern">
                            Nome de Usuário
                        </label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-user text-gray-400"></i>
                            </div>
                            <input 
                                type="text" 
                                id="username" 
                                name="username" 
                                class="form-input-modern pl-10" 
                                placeholder="Digite seu nome de usuário"
                                required
                            >
                        </div>
                    </div>
                    
                    <div>
                        <label for="password" class="form-label-modern">
                            Senha
                        </label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-lock text-gray-400"></i>
                            </div>
                            <input 
                                type="password" 
                                id="password" 
                                name="password" 
                                class="form-input-modern pl-10" 
                                placeholder="Digite sua senha"
                                required
                            >
                            <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center" onclick="togglePasswordVisibility('password')">
                                <i class="fas fa-eye text-gray-400 hover:text-gray-600"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <input 
                                id="remember-me" 
                                name="remember-me" 
                                type="checkbox" 
                                class="form-checkbox-modern"
                            >
                            <label for="remember-me" class="ml-2 block text-sm text-gray-700">
                                Lembrar-me
                            </label>
                        </div>
                        
                        <div class="text-sm">
                            <a href="#" class="font-medium text-blue-600 hover:text-blue-500">
                                Esqueceu sua senha?
                            </a>
                        </div>
                    </div>
                    
                    <div>
                        <button type="submit" class="btn-modern btn-primary btn-block">
                            <i class="fas fa-sign-in-alt mr-2"></i>
                            Entrar
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Formulário de Cadastro de Produto -->
        <div class="card-modern">
            <div class="card-header-modern">
                <h3 class="text-lg font-medium text-gray-900">Cadastro de Produto</h3>
            </div>
            <div class="card-body-modern">
                <form class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="product-name" class="form-label-modern">
                                Nome do Produto
                            </label>
                            <input 
                                type="text" 
                                id="product-name" 
                                name="product-name" 
                                class="form-input-modern" 
                                placeholder="Nome completo do produto"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="product-sku" class="form-label-modern">
                                SKU
                            </label>
                            <input 
                                type="text" 
                                id="product-sku" 
                                name="product-sku" 
                                class="form-input-modern" 
                                placeholder="Código único do produto"
                                required
                            >
                        </div>
                    </div>
                    
                    <div>
                        <label for="product-category" class="form-label-modern">
                            Categoria
                        </label>
                        <select id="product-category" name="product-category" class="form-select-modern" required>
                            <option value="">Selecione uma categoria</option>
                            <option value="reagentes">Reagentes</option>
                            <option value="solventes">Solventes</option>
                            <option value="sais">Sais</option>
                            <option value="equipamentos">Equipamentos</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="product-supplier" class="form-label-modern">
                            Fornecedor
                        </label>
                        <select id="product-supplier" name="product-supplier" class="form-select-modern" required>
                            <option value="">Selecione um fornecedor</option>
                            <option value="fornecedor1">Fornecedor Exemplo 1</option>
                            <option value="fornecedor2">Fornecedor Exemplo 2</option>
                            <option value="fornecedor3">Fornecedor Exemplo 3</option>
                        </select>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="product-quantity" class="form-label-modern">
                                Quantidade Inicial
                            </label>
                            <input 
                                type="number" 
                                id="product-quantity" 
                                name="product-quantity" 
                                class="form-input-modern" 
                                placeholder="Quantidade em estoque"
                                min="0"
                                step="0.01"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="product-unit" class="form-label-modern">
                                Unidade de Medida
                            </label>
                            <select id="product-unit" name="product-unit" class="form-select-modern" required>
                                <option value="">Selecione uma unidade</option>
                                <option value="ml">ml</option>
                                <option value="l">l</option>
                                <option value="g">g</option>
                                <option value="kg">kg</option>
                                <option value="un">un</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label for="product-description" class="form-label-modern">
                            Descrição
                        </label>
                        <textarea 
                            id="product-description" 
                            name="product-description" 
                            rows="3" 
                            class="form-textarea-modern" 
                            placeholder="Descrição detalhada do produto"
                        ></textarea>
                    </div>
                    
                    <div>
                        <button type="submit" class="btn-modern btn-primary btn-block">
                            <i class="fas fa-save mr-2"></i>
                            Salvar Produto
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Formulário de Movimentação de Estoque -->
        <div class="card-modern lg:col-span-2">
            <div class="card-header-modern">
                <h3 class="text-lg font-medium text-gray-900">Movimentação de Estoque</h3>
            </div>
            <div class="card-body-modern">
                <form class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div>
                            <label for="movement-type" class="form-label-modern">
                                Tipo de Movimentação
                            </label>
                            <select id="movement-type" name="movement-type" class="form-select-modern" required>
                                <option value="">Selecione o tipo</option>
                                <option value="entrada">Entrada</option>
                                <option value="saida">Saída</option>
                                <option value="ajuste">Ajuste</option>
                                <option value="descarte">Descarte</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="movement-product" class="form-label-modern">
                                Produto
                            </label>
                            <select id="movement-product" name="movement-product" class="form-select-modern" required>
                                <option value="">Selecione um produto</option>
                                <option value="produto1">Ácido Clorídrico</option>
                                <option value="produto2">Hidróxido de Sódio</option>
                                <option value="produto3">Etanol</option>
                                <option value="produto4">Cloreto de Sódio</option>
                            </select>
                        </div>
                        
                        <div>
                            <label for="movement-quantity" class="form-label-modern">
                                Quantidade
                            </label>
                            <input 
                                type="number" 
                                id="movement-quantity" 
                                name="movement-quantity" 
                                class="form-input-modern" 
                                placeholder="Quantidade movimentada"
                                min="0"
                                step="0.01"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="movement-date" class="form-label-modern">
                                Data da Movimentação
                            </label>
                            <input 
                                type="date" 
                                id="movement-date" 
                                name="movement-date" 
                                class="form-input-modern" 
                                value="{{ today|date:'Y-m-d' }}"
                                required
                            >
                        </div>
                    </div>
                    
                    <div>
                        <label for="movement-reason" class="form-label-modern">
                            Motivo da Movimentação
                        </label>
                        <textarea 
                            id="movement-reason" 
                            name="movement-reason" 
                            rows="2" 
                            class="form-textarea-modern" 
                            placeholder="Descreva o motivo desta movimentação"
                            required
                        ></textarea>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="movement-responsible" class="form-label-modern">
                                Responsável
                            </label>
                            <input 
                                type="text" 
                                id="movement-responsible" 
                                name="movement-responsible" 
                                class="form-input-modern" 
                                placeholder="Nome do responsável pela movimentação"
                                required
                            >
                        </div>
                        
                        <div>
                            <label for="movement-lot" class="form-label-modern">
                                Lote (Opcional)
                            </label>
                            <select id="movement-lot" name="movement-lot" class="form-select-modern">
                                <option value="">Selecione um lote</option>
                                <option value="lote1">Lote 001 - Válido até 2026-12-31</option>
                                <option value="lote2">Lote 002 - Válido até 2026-06-30</option>
                                <option value="lote3">Lote 003 - Válido até 2025-12-31</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button type="button" class="btn-modern btn-outline">
                            <i class="fas fa-times mr-2"></i>
                            Cancelar
                        </button>
                        <button type="submit" class="btn-modern btn-primary">
                            <i class="fas fa-exchange-alt mr-2"></i>
                            Registrar Movimentação
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
// Função para alternar visibilidade da senha
function togglePasswordVisibility(inputId) {
    const input = document.getElementById(inputId);
    const icon = input.nextElementSibling.querySelector('i');
    
    if (input.type === 'password') {
        input.type = 'text';
        icon.className = 'fas fa-eye-slash text-gray-400 hover:text-gray-600';
    } else {
        input.type = 'password';
        icon.className = 'fas fa-eye text-gray-400 hover:text-gray-600';
    }
}

// Função para validar formulário de login
document.querySelector('form[action="/login/"]').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    if (!username || !password) {
        showNotification('Por favor, preencha todos os campos.', 'warning');
        return;
    }
    
    // Simular envio do formulário
    showNotification('Login realizado com sucesso!', 'success');
    setTimeout(() => {
        window.location.href = '/dashboard/';
    }, 1000);
});

// Função para validar formulário de cadastro de produto
document.querySelector('form[action="/products/create/"]').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const productName = document.getElementById('product-name').value;
    const productSku = document.getElementById('product-sku').value;
    const productCategory = document.getElementById('product-category').value;
    const productSupplier = document.getElementById('product-supplier').value;
    const productQuantity = document.getElementById('product-quantity').value;
    
    if (!productName || !productSku || !productCategory || !productSupplier || !productQuantity) {
        showNotification('Por favor, preencha todos os campos obrigatórios.', 'warning');
        return;
    }
    
    // Simular envio do formulário
    showNotification('Produto cadastrado com sucesso!', 'success');
    setTimeout(() => {
        window.location.href = '/products/list/';
    }, 1000);
});

// Função para validar formulário de movimentação
document.querySelector('form[action="/movements/create/"]').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const movementType = document.getElementById('movement-type').value;
    const movementProduct = document.getElementById('movement-product').value;
    const movementQuantity = document.getElementById('movement-quantity').value;
    const movementReason = document.getElementById('movement-reason').value;
    const movementResponsible = document.getElementById('movement-responsible').value;
    
    if (!movementType || !movementProduct || !movementQuantity || !movementReason || !movementResponsible) {
        showNotification('Por favor, preencha todos os campos obrigatórios.', 'warning');
        return;
    }
    
    // Simular envio do formulário
    showNotification('Movimentação registrada com sucesso!', 'success');
    setTimeout(() => {
        window.location.href = '/movements/list/';
    }, 1000);
});
</script>
{% endblock %}